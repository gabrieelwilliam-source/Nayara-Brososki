<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sal√£o ‚Äî Nayara Brososki</title>

<!-- Fonte -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1: #0f0f10;
    --accent: #d49446;
    --accent-2:#d49446;
    --card:#111214;
    --muted:#bfc2c6;
    --white:#ffffff;
    --glass: rgba(255,255,255,0.03);
    --ease: cubic-bezier(.2,.9,.21,1);
  }

  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family: "Poppins", sans-serif;
    color:var(--white);
    background: var(--bg1);
    overflow-x:hidden;
    position:relative;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  /* CANVAS BG */
  canvas#bgParticles{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    z-index:-1;
    background: radial-gradient(circle at top right, var(--accent-2) 0%, rgba(0,0,0,0) 40%), var(--bg1);
  }

  a{color:inherit;text-decoration:none}
  img{max-width:100%;display:block}
  .wrap{max-width:1100px;margin:0 auto;padding:28px;position:relative;z-index:1;}

  header{display:flex;align-items:center;justify-content:space-between;padding:18px 0}
  .logo{display:flex;align-items:center;gap:12px}
  .logo img{width:120px;height:120px;object-fit:contain;border-radius:8px}
  .brand{font-weight:700;letter-spacing:0.6px}
  nav{display:flex;gap:18px;align-items:center;position:relative}
  nav a{color:var(--muted);font-weight:500;position:relative;padding:8px 6px;line-height:1}

  /* Sliding indicator under nav */
  .nav-indicator{
    position:absolute;
    height:3px;
    background:linear-gradient(90deg,var(--accent),#f0a76b);
    bottom:4px;
    border-radius:3px;
    transition:transform .28s var(--ease), width .28s var(--ease), opacity .2s;
    will-change:transform,width;
    opacity:0;
    pointer-events:none;
  }

  .hero{
    display:grid;
    grid-template-columns:1fr 460px;
    gap:32px;
    align-items:center;
    margin-top:28px;
    min-height:360px;
  }

  .hero-left h1{font-size:40px;line-height:1.05;margin-bottom:12px;color:var(--accent)}
  .hero-left p{color:var(--muted);margin-bottom:18px}
  .hero-cta{display:flex;gap:12px;flex-wrap:wrap}

  .btn-form {
    display: inline-block;
    padding: 12px 28px;
    background: linear-gradient(135deg, #d49446, #582515);
    color: #fff;
    border-radius: 10px;
    text-decoration: none;
    font-size: 15px;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: 0.2s ease;
  }

  .btn-form:hover { transform: translateY(-2px); opacity: 0.9; }
  .btn-form:focus, .btn-form:active { outline: none; }

  /* CTA Checkout (Kiwify) */
  .btn-checkout{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:10px;
    padding: 13px 30px;
    border-radius: 12px;
    background: linear-gradient(135deg, var(--accent), #f0a76b);
    color: #fff;
    text-decoration: none;
    font-size: 15px;
    font-weight: 700;
    border: 1px solid rgba(255,255,255,0.10);
    box-shadow: 0 16px 40px rgba(212,148,70,0.22), 0 10px 30px rgba(0,0,0,0.35);
    transition: transform .2s ease, filter .2s ease, box-shadow .2s ease;
  }

  .btn-checkout::after{
    content:"‚Üí";
    font-weight:700;
    opacity:0.9;
    transform: translateX(0);
    transition: transform .2s ease;
  }

  .btn-checkout:hover{
    transform: translateY(-2px);
    filter: brightness(1.03);
    box-shadow: 0 18px 46px rgba(212,148,70,0.26), 0 12px 34px rgba(0,0,0,0.38);
  }

  .btn-checkout:hover::after{ transform: translateX(4px); }
  .btn-checkout:active{ transform: translateY(0); }
  .btn-checkout:focus-visible{
    outline: 3px solid rgba(212,148,70,0.55);
    outline-offset: 3px;
  }

  .hero-right {
    display: flex;
    justify-content: center;
    align-items: center;
    perspective:1200px; /* para parallax */
  }

  .hero-right .hero-photo {
    width: 360px;
    max-width: 90%;
    height: auto;
    border-radius: 18px;
    display: block;
    margin: 0 auto;
    box-shadow: 0 12px 40px rgba(0,0,0,0.6);
    transform: translateZ(0);
    transition: transform .35s var(--ease);
    will-change:transform;
    background: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.22));
    overflow:hidden;
  }

  /* Sections */
  section{margin-top:44px}
  .section-title{font-size:22px;color:var(--accent);margin-bottom:8px}
  .section-desc{color:var(--muted);max-width:820px;margin-bottom:20px}

  /* Cards / Interactions */
  .services{display:flex;gap:18px;flex-wrap:wrap}
  .service{
    background:var(--card);padding:18px;border-radius:12px;flex:1 1 200px;min-width:200px;
    box-shadow:0 6px 18px rgba(0,0,0,0.45);
    transition: transform .28s var(--ease), box-shadow .28s var(--ease);
    transform-origin:center;
    will-change:transform,box-shadow;
  }
  .service.hov { transform: translateY(-8px) scale(1.01); box-shadow: 0 18px 40px rgba(0,0,0,0.55) }
  .service h4{color:var(--accent);margin-bottom:8px}
  .service p{color:var(--muted);font-size:14px}

  .gallery{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
  .gallery .item{
    width:30%;min-width:200px;border-radius:12px;overflow:hidden;box-shadow:0 8px 26px rgba(0,0,0,0.5);
    transition: transform .28s var(--ease), box-shadow .28s var(--ease);
    transform-origin:center;
    will-change:transform;
    background:#000;
  }
  .gallery .item img{height:240px;object-fit:cover;width:100%;transition:transform .4s var(--ease); will-change:transform;}
  .gallery .item.hov { transform: translateY(-6px) scale(1.01) }
  .gallery .item.hov img { transform: scale(1.03) }

  .testimonials{display:flex;gap:16px;flex-wrap:wrap}
  .testi{background:var(--glass);padding:18px;border-radius:12px;flex:1 1 280px;color:var(--muted);
    transition: transform .28s var(--ease), box-shadow .28s var(--ease);
    will-change:transform;
  }
  .testi.hov { transform: translateY(-6px); box-shadow: 0 16px 36px rgba(0,0,0,0.45) }
  .testi strong{color:var(--white);display:block;margin-bottom:8px}

  .booking{
    display:flex;gap:20px;align-items:center;justify-content:space-between;background:linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    padding:20px;border-radius:12px;
  }
  .booking .info{flex:1}
  .booking .info h3{color:var(--accent);margin-bottom:6px}
  .booking .actions{display:flex;gap:12px;flex-wrap:wrap}

  footer{margin-top:50px;padding:28px;border-top:1px solid rgba(255,255,255,0.03);color:var(--muted)}
  .footer-grid{display:flex;justify-content:space-between;gap:20px;flex-wrap:wrap;align-items:center}
  .socials{display:flex;gap:10px;align-items:center}
  .socials a{display:inline-flex;align-items:center;justify-content:center;width:38px;height:38px;border-radius:8px;background:rgba(255,255,255,0.03)}

  .wh-fab{
    position:fixed;right:18px;bottom:18px;background:#25D366;color:#fff;padding:14px;border-radius:999px;box-shadow:0 10px 30px rgba(37,211,102,0.18);
    display:flex;gap:10px;align-items:center;font-weight:700;z-index:999;cursor:pointer;text-decoration:none;
  }

  /* Animations on scroll */
  .anim {
    opacity:0;
    transform: translateY(18px) scale(.995);
    transition: opacity .6s var(--ease), transform .6s var(--ease);
    will-change:opacity,transform;
  }
  .anim.in { opacity:1; transform: translateY(0) scale(1) }

  /* =========================
     SE√á√ÉO CURSO (Kiwify)
     ========================= */
  .course{
    position:relative;
    background: linear-gradient(180deg, rgba(212,148,70,0.10), rgba(255,255,255,0.02));
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 16px;
    padding: 22px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.45);
    overflow:hidden;
    transition: transform .28s var(--ease), box-shadow .28s var(--ease);
    will-change: transform, box-shadow;
  }

  .course::before{
    content:"";
    position:absolute;
    inset:-2px;
    background: radial-gradient(circle at 20% 0%, rgba(212,148,70,0.22), rgba(0,0,0,0) 55%);
    pointer-events:none;
  }

  .course.hov{
    transform: translateY(-6px);
    box-shadow: 0 18px 40px rgba(0,0,0,0.55);
  }

  .course-grid{
    position:relative;
    display:grid;
    grid-template-columns: 1.2fr .8fr;
    gap:18px;
    align-items:start;
  }

  .course h3{
    margin-top:10px;
    font-size:22px;
    line-height:1.2;
    color: var(--white);
  }

  .course-lead{
    margin-top:10px;
    color: var(--muted);
    font-size:14px;
    line-height:1.6;
    max-width: 720px;
  }

  .course-badges{
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    margin-bottom:8px;
  }

  .badge{
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:8px 10px;
    border-radius: 999px;
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.06);
    color: var(--white);
    font-size:12px;
    font-weight:600;
  }

  .badge .dot{
    width:7px;
    height:7px;
    border-radius:999px;
    background: var(--accent);
    box-shadow: 0 0 0 4px rgba(212,148,70,0.12);
  }

  .course-list{
    list-style:none;
    margin-top:14px;
    display:grid;
    gap:10px;
  }

  .course-list li{
    color: var(--muted);
    font-size:14px;
    line-height:1.5;
    padding-left:26px;
    position:relative;
  }

  .course-list li::before{
    content:"‚úì";
    position:absolute;
    left:0;
    top:0;
    color: var(--accent);
    font-weight:800;
  }

  .course-ctas{
    margin-top:16px;
    display:flex;
    gap:12px;
    flex-wrap:wrap;
  }

  .course-note{
    margin-top:10px;
    font-size:12px;
    color: rgba(255,255,255,0.60);
  }

  .course-side-card{
    background: rgba(17,18,20,0.72);
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 14px;
    padding:16px;
    box-shadow: 0 10px 26px rgba(0,0,0,0.35);
  }

  .course-side-title{
    font-weight:800;
    color: var(--accent);
    margin-bottom:10px;
    letter-spacing:0.2px;
  }

  .course-side-items{
    display:grid;
    gap:10px;
    color: var(--muted);
    font-size:14px;
    line-height:1.5;
    margin-bottom:14px;
  }

  .course-side-mini{
    margin-top:10px;
    font-size:12px;
    color: rgba(255,255,255,0.60);
  }

  /* Responsiveness */
  @media (max-width: 980px){
    .hero{grid-template-columns:1fr;gap:18px}
    .hero-right{order:-1}
    .gallery .item img{height:180px}
    .gallery .item{width:48%}
    .course-grid{ grid-template-columns:1fr; }
  }
  @media (max-width:540px){
    .wrap{padding:16px}
    .gallery .item{width:100%}
    .services{flex-direction:column}
    header{flex-direction:column;gap:10px;align-items:center}
    .booking{flex-direction:column;align-items:stretch}
    .footer-grid{flex-direction:column;align-items:center;text-align:center}
    .wh-fab{right:12px;bottom:12px;padding:12px}
    .hero-left h1{font-size:28px}
    nav{gap:12px}
  }

  /* small accessibility helpers */
  .sr-only{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}
</style>
</head>

<body>

<canvas id="bgParticles" aria-hidden="true"></canvas>

<div class="wrap">
  <header>
    <div class="logo">
      <img src="logo.png" alt="Logo" onerror="this.style.display='none'">
      <div>
        <h1><div class="brand">Nayara Brososki</div></h1>
        <div style="color:var(--muted);font-size:15px">Sal√£o ‚Ä¢ Est√©tica ‚Ä¢ Beleza</div>
      </div>
    </div>
    <nav id="mainNav" aria-label="Menu principal">
      <a href="#servicos">Servi√ßos</a>
      <a href="#galeria">Galeria</a>
      <a href="#curso">Curso</a>
      <a href="#depoimentos">Depoimentos</a>
      <a href="#contato" class="btn-form">Agendar</a>
      <div class="nav-indicator" id="navIndicator" aria-hidden="true"></div>
    </nav>
  </header>

  <main class="hero">
    <div class="hero-left">
      <h1>Beleza que transforma</h1>
      <p>Atendimento profissional, t√©cnicas modernas e carinho em cada detalhe. Agende seu hor√°rio e venha viver a experi√™ncia.</p>
      <div class="hero-cta">
        <a class="btn-checkout" href="https://pay.kiwify.com.br/KyA9nHg" target="_blank" rel="noopener noreferrer">
          Acessar curso
        </a>
        <button class="btn-form" onclick="document.getElementById('contato').scrollIntoView({behavior:'smooth'})">Agendar agora</button>
        <a class="btn-form" href="#galeria">Ver Trabalhos</a>
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSdaw-L_xmedVBw1oNr99Hr9Hzm8qxTXwiite9DDzCo54D-PcA/viewform?usp=dialog" target="_blank" rel="noopener noreferrer" class="btn-form">Fazer avalia√ß√£o</a>
      </div>
    </div>
    <div class="hero-right">
      <div class="hero-photo" id="heroPhoto">
        <img src="Nay_capa-Photoroom.png" alt="Foto destaque do sal√£o / servi√ßo" style="display:block;width:100%;height:auto;border-radius:18px;" loading="eager" />
      </div>
    </div>
  </main>

  <section id="sobre" class="anim">
    <div class="section-title">Quem somos</div>
    <p class="section-desc">Sal√£o especializado em cortes, colora√ß√£o, tratamentos e est√©tica avan√ßada ‚Äî resultado com t√©cnica e cuidado.</p>
  </section>

  <!-- SE√á√ÉO DO CURSO -->
  <section id="curso" class="anim">
    <div class="section-title">Curso Profissional para Cabeleireiras</div>
    <p class="section-desc">
      Aprenda t√©cnicas e processos para entregar resultados com mais seguran√ßa, consist√™ncia e padr√£o profissional.
    </p>

    <div class="course interactive" tabindex="0">
      <div class="course-grid">
        <div>
          <div class="course-badges">
            <span class="badge"><span class="dot"></span> 100% online</span>
            <span class="badge"><span class="dot"></span> Acesso imediato</span>
            <span class="badge"><span class="dot"></span> Conte√∫do pr√°tico</span>
          </div>

          <h3>Do atendimento ao resultado final ‚Äî passo a passo para evoluir no sal√£o</h3>
          <p class="course-lead">
            Um m√©todo direto ao ponto para voc√™ organizar seu processo, elevar a qualidade do servi√ßo e ganhar mais confian√ßa
            na execu√ß√£o (com t√©cnicas e rotinas aplic√°veis na pr√°tica).
          </p>

          <ul class="course-list">
            <li>Diagn√≥stico e prepara√ß√£o: como evitar erros e aumentar a previsibilidade do resultado</li>
            <li>Organiza√ß√£o de processo: padroniza√ß√£o para ganhar tempo e qualidade</li>
            <li>T√©cnicas aplic√°veis no dia a dia: execu√ß√£o com mais seguran√ßa e acabamento</li>
            <li>P√≥s-procedimento e fideliza√ß√£o: como orientar e reter clientes</li>
          </ul>

          <div class="course-ctas">
            <a class="btn-checkout" href="https://pay.kiwify.com.br/KyA9nHg" target="_blank" rel="noopener noreferrer">
              Quero me inscrever
            </a>
            <a class="btn-form" href="#contato">
              Tirar d√∫vidas
            </a>
          </div>

          <div class="course-note">
            Pagamento seguro pela Kiwify ‚Ä¢ Voc√™ ser√° redirecionada para o checkout em nova aba.
          </div>
        </div>

        <aside>
          <div class="course-side-card">
            <div class="course-side-title">O que voc√™ recebe</div>
            <div class="course-side-items">
              <div>‚úÖ Aulas com passo a passo</div>
              <div>‚úÖ Rotina e organiza√ß√£o de atendimento</div>
              <div>‚úÖ Conte√∫do pr√°tico para aplicar no sal√£o</div>
              <div>‚úÖ Materiais de apoio (quando dispon√≠vel)</div>
            </div>

            <a class="btn-checkout" href="https://pay.kiwify.com.br/KyA9nHg" target="_blank" rel="noopener noreferrer">
              Ir para o checkout
            </a>

            <div class="course-side-mini">Link abre em nova aba.</div>
          </div>
        </aside>
      </div>
    </div>
  </section>

  <section id="servicos" class="anim">
    <div class="section-title">Servi√ßos</div>
    <p class="section-desc">Principais procedimentos, com pacotes e atendimento personalizado.</p>
    <div class="services">
      <div class="service interactive" tabindex="0"><h4>Cortes & Styling</h4><p>Consultoria de estilo, corte preciso e finaliza√ß√£o profissional.</p></div>
      <div class="service interactive" tabindex="0"><h4>Colora√ß√£o & Mechas</h4><p>T√©cnicas modernas, tonaliza√ß√£o saud√°vel e cuidados p√≥s-processo.</p></div>
      <div class="service interactive" tabindex="0"><h4>Imagem & Identidade</h4><p>Aux√≠lio para real√ßar sua beleza de forma aut√™ntica e estrat√©gica.</p></div>
    </div>
  </section>

  <section id="galeria" class="anim">
    <div class="section-title">Antes / Depois</div>
    <p class="section-desc">Trabalhos reais ‚Äî resultados que falam por si.</p>
    <div class="gallery">
      <div class="item interactive"><img src="IMG_5216 (1).jpg" alt="antes/depois 1" loading="lazy" /></div>
      <div class="item interactive"><img src="70692087-570E-4020-BB8B-6AD773D45105.jpg" alt="antes/depois 2" loading="lazy" /></div>
      <div class="item interactive"><img src="D066BF8F-CF80-4689-A5FC-76DE717AFC91.jpg" alt="antes/depois 3" loading="lazy" /></div>
    </div>
  </section>

  <section id="depoimentos" class="anim">
    <div class="section-title">Depoimentos</div>
    <div class="testimonials">
      <div class="testi interactive"><strong>Mariana</strong> Adorei o atendimento, profissionalismo e resultado. Super recomendo!</div>
      <div class="testi interactive"><strong>Paula</strong> O corte e a cor ficaram perfeitos ‚Äî servi√ßo impec√°vel e equipe atenciosa.</div>
    </div>
  </section>

  <section id="contato" class="anim">
    <div class="section-title">Agende seu hor√°rio</div>
    <div class="booking">
      <div class="info">
        <h3>Pronta para uma transforma√ß√£o?</h3>
        <p style="color:var(--muted);margin-top:6px">Chame no whats e agende seu hor√°rio</p>
      </div>
      <div class="actions">
        <a class="btn-form" href="https://wa.me/message/V4ZQSJW4D524K1" target="_blank" rel="noopener noreferrer">Chamar no WhatsApp</a>
        <a class="btn-form" href="https://www.instagram.com/nayarabrososki/" target="_blank" rel="noopener noreferrer">Instagram</a>
        <a class="btn-checkout" href="https://pay.kiwify.com.br/KyA9nHg" target="_blank" rel="noopener noreferrer">
          Comprar o curso
        </a>
      </div>
    </div>
  </section>

  <footer>
    <div class="footer-grid">
      <div>
        <div style="font-weight:700">Nayara Brososki ‚Ä¢ Sal√£o</div>
        <div style="color:var(--muted);margin-top:6px">
          üìç R: Serra Azul - 131 ‚Ä¢ (47) 9 9629-2854 ‚Ä¢ ‚úâÔ∏è nayarabrososki@gmail.com
        </div>
      </div>
    </div>
  </footer>
</div>

<a class="wh-fab" href="https://wa.me/message/V4ZQSJW4D524K1" target="_blank" rel="noopener noreferrer" aria-label="Chamar no WhatsApp">
  WhatsApp
</a>

<script>
/* ------------------------
   PARTICLES BACKGROUND
   Responsive, mouse/touch-reactive
   ------------------------ */
(function(){
  const canvas = document.getElementById('bgParticles');
  const ctx = canvas.getContext('2d');
  let particles = [];
  let rafId = null;
  let pointer = { x: null, y: null, active:false };
  let DPR = Math.max(1, window.devicePixelRatio || 1);

  function resize(){
    canvas.width = Math.floor(window.innerWidth * DPR);
    canvas.height = Math.floor(window.innerHeight * DPR);
    canvas.style.width = window.innerWidth + 'px';
    canvas.style.height = window.innerHeight + 'px';
    ctx.setTransform(DPR,0,0,DPR,0,0);
    initParticles();
  }

  function initParticles(){
    particles = [];
    // particle count based on viewport but clamped for mobile
    const area = window.innerWidth * window.innerHeight;
    let count = Math.round(area / 20000);
    if(window.innerWidth < 600) count = Math.max(12, Math.round(area / 35000)); // fewer on mobile
    count = Math.min(120, Math.max(18, count));
    for(let i=0;i<count;i++){
      const s = (Math.random()*1.6)+0.6;
      const x = Math.random()*window.innerWidth;
      const y = Math.random()*window.innerHeight;
      const vx = (Math.random()*0.4)-0.2;
      const vy = (Math.random()*0.4)-0.2;
      const col = 'rgba(255,182,213,' + (0.22 + Math.random()*0.38) + ')';
      particles.push({x,y,vx,vy,s,col});
    }
  }

  function update(){
    const w = window.innerWidth, h = window.innerHeight;
    ctx.clearRect(0,0,w,h);

    for(let p of particles){
      // attract/repel to pointer subtly
      if(pointer.active && pointer.x !== null){
        const dx = pointer.x - p.x;
        const dy = pointer.y - p.y;
        const d2 = dx*dx + dy*dy;
        if(d2 < 16000){ // influence radius ~126px
          const d = Math.sqrt(d2) || 1;
          const force = (1 - (d / 160)) * 0.06; // tuned
          // particles move slightly away or toward pointer depending on distance
          p.vx += (dx/d) * force * (pointer.force || 1);
          p.vy += (dy/d) * force * (pointer.force || 1);
        }
      }

      // friction & limit
      p.vx *= 0.995;
      p.vy *= 0.995;
      p.x += p.vx;
      p.y += p.vy;

      // wrap edges with soft bounce
      if(p.x < -10) p.x = w + 10;
      if(p.x > w + 10) p.x = -10;
      if(p.y < -10) p.y = h + 10;
      if(p.y > h + 10) p.y = -10;

      ctx.beginPath();
      ctx.arc(p.x, p.y, p.s, 0, Math.PI*2);
      ctx.fillStyle = p.col;
      ctx.fill();
    }
    rafId = requestAnimationFrame(update);
  }

  // pointer handlers (desktop & mobile)
  function onPointerMove(e){
    pointer.active = true;
    pointer.force = 1;
    if(e.touches && e.touches[0]){
      pointer.x = e.touches[0].clientX;
      pointer.y = e.touches[0].clientY;
      pointer.force = 1.2;
    } else {
      pointer.x = e.clientX;
      pointer.y = e.clientY;
    }
  }
  function onPointerLeave(){ pointer.active = false; pointer.x = null; pointer.y = null; pointer.force = 0; }

  // listeners
  window.addEventListener('resize', () => { cancelAnimationFrame(rafId); resize(); });
  window.addEventListener('mousemove', onPointerMove, {passive:true});
  window.addEventListener('touchmove', onPointerMove, {passive:true});
  window.addEventListener('mouseleave', onPointerLeave);
  window.addEventListener('touchend', onPointerLeave);

  // init
  resize();
  update();

  // expose for debug if needed
  window._bgParticles = { initParticles };

})();

/* ------------------------
   HERO PARALLAX (mouse + scroll)
   Desktop: parallax by mouse
   Mobile: parallax by scroll
   ------------------------ */
(function(){
  const heroPhoto = document.getElementById('heroPhoto');
  let supportsHover = window.matchMedia('(hover: hover)').matches;

  if(supportsHover){
    // mouse-based parallax
    window.addEventListener('mousemove', (e) => {
      const rect = heroPhoto.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/2;
      const dx = (e.clientX - cx) / rect.width;
      const dy = (e.clientY - cy) / rect.height;
      // small rotations/transforms
      const rx = dy * -3; // tilt
      const ry = dx * 4;
      const tz = 1 + Math.abs(dx)*0.02 + Math.abs(dy)*0.02;
      heroPhoto.style.transform = `translate3d(${ry}px, ${rx}px, 0) scale(${tz})`;
    }, {passive:true});

    // reset on leave
    heroPhoto.addEventListener('mouseleave', () => {
      heroPhoto.style.transform = '';
    });
  } else {
    // mobile: subtle parallax on scroll (translateY)
    window.addEventListener('scroll', () => {
      const rect = heroPhoto.getBoundingClientRect();
      const mid = window.innerHeight / 2;
      const dist = rect.top - mid;
      // clamp translate
      const t = Math.max(-20, Math.min(20, -dist * 0.02));
      heroPhoto.style.transform = `translateY(${t}px)`;
    }, {passive:true});
  }
})();

/* ------------------------
   SCROLL ANIMATIONS (IntersectionObserver)
   ------------------------ */
(function(){
  const obs = new IntersectionObserver((entries) => {
    for(const e of entries){
      if(e.isIntersecting){
        e.target.classList.add('in');
        obs.unobserve(e.target);
      }
    }
  }, {root:null, rootMargin:'0px 0px -6% 0px', threshold: 0.12});

  document.querySelectorAll('.anim').forEach(el => obs.observe(el));
})();

/* ------------------------
   INTERACTIVE CARDS (hover + touch)
   Adds .hov class on hover or touch
   ------------------------ */
(function(){
  const interactive = document.querySelectorAll('.interactive');
  interactive.forEach(el => {
    // desktop hover
    el.addEventListener('mouseenter', ()=> el.classList.add('hov'));
    el.addEventListener('mouseleave', ()=> el.classList.remove('hov'));
    // focus for keyboard
    el.addEventListener('focus', ()=> el.classList.add('hov'));
    el.addEventListener('blur', ()=> el.classList.remove('hov'));
    // touch: toggle briefly (so touch users see the effect)
    let touchTimer = null;
    el.addEventListener('touchstart', (ev) => {
      el.classList.add('hov');
      clearTimeout(touchTimer);
      touchTimer = setTimeout(()=> el.classList.remove('hov'), 900);
    }, {passive:true});
  });
})();

/* ------------------------
   NAV INDICATOR (sliding bar)
   Works on hover, click, and touch
   ------------------------ */
(function(){
  const nav = document.getElementById('mainNav');
  const indicator = document.getElementById('navIndicator');
  const links = Array.from(nav.querySelectorAll('a'));

  function moveIndicatorTo(el, instant=false){
    if(!el) { indicator.style.opacity='0'; return; }
    const r = el.getBoundingClientRect();
    const navRect = nav.getBoundingClientRect();
    const width = Math.max(14, r.width - 8);
    const left = (r.left - navRect.left) + (r.width - width)/2;
    indicator.style.width = width + 'px';
    indicator.style.transform = `translateX(${Math.round(left)}px)`;
    indicator.style.opacity = '1';
    if(instant) indicator.style.transition = 'none';
    else indicator.style.transition = '';
  }

  // mouse hover
  links.forEach(a => {
    a.addEventListener('mouseenter', (e)=> moveIndicatorTo(e.currentTarget));
    a.addEventListener('mouseleave', ()=> {
      // fallback: hide or move to active
      moveIndicatorTo(document.querySelector('nav a.active') || null);
    });
    // click / touch to set active
    a.addEventListener('click', (ev)=>{
      links.forEach(x=>x.classList.remove('active'));
      ev.currentTarget.classList.add('active');
      moveIndicatorTo(ev.currentTarget);
    });
    // touch-friendly: on touchstart show indicator
    a.addEventListener('touchstart', (ev)=> { moveIndicatorTo(ev.currentTarget); }, {passive:true});
  });

  // initial: try to set to first visible
  window.addEventListener('load', () => {
    const first = links[0];
    if(first) moveIndicatorTo(first, true);
  });
  window.addEventListener('resize', () => {
    // re-live the indicator position if active
    const active = document.querySelector('nav a.active') || links[0];
    moveIndicatorTo(active, true);
  });
})();
</script>

</body>
</html>
